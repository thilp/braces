use Test::More;
use Braces qw/ bsplit /;

my @tests = (
    [ 'a(c)e'     => [ 'a', [ '(', 'c', ')' ], 'e' ] ],
    [ 'a{c}e'     => [ 'a', [ '{', 'c', '}' ], 'e' ] ],
    [ 'a{}b'      => [ 'a', [ '{', '', '}'], 'b' ] ],
    [ 'a{c)e'     => [ 'a', [ '{', 'c)e', '' ], '' ] ],
    [ 'ab(cd)ef'  => [ 'ab', [ '(', 'cd', ')' ], 'ef' ] ],
    [ 'a[b(c)d]e' => [ 'a', [ '[', 'b', [ '(', 'c', ')' ], 'd', ']' ], 'e' ] ],
    [ 'a[b(c]d)e' => [ 'a', [ '[', 'b', [ '(', 'c]d', ')' ], 'e', '' ], '' ] ],
    [ 'a(b(c)d)e' => [ 'a', [ '(', 'b', [ '(', 'c', ')' ], 'd', ')' ], 'e' ] ],
    [ 'a(b(c)d]e' => [ 'a', [ '(', 'b', [ '(', 'c', ')' ], 'd]e', '' ], '' ] ],
    [ 'a(b(c]d)e' => [ 'a', [ '(', 'b', [ '(', 'c]d', ')' ], 'e', '' ], '' ] ],
    [ '[ab]'      => [ '[', 'ab', ']' ] ],
    [ '(a{c}e)'   => [ '(', 'a', [ '{', 'c', '}' ], 'e', ')' ] ],
    [ '()'        => [ '(', '', ')' ] ],
    [ '(]'        => [ '(', ']', '' ] ],
    [ '(a]'       => [ '(', 'a]', '' ] ],
);

for my $test (@tests) {
    is_deeply( bsplit($test->[0]), $test->[1], $test->[0] );
}

done_testing;
